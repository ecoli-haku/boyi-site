# config/_default/hugo.toml
# Congo主题完整配置文件

# 网站基本信息
baseURL = "https://boyi-wang.com/"
languageCode = "en-us"
title = "BOYI WANG"

# Hugo模块配置（使用远程Congo主题）
[module]
  [[module.imports]]
    path = "github.com/jpanther/congo/v2"

# Hugo基本设置
enableRobotsTXT = true
enableGitInfo = false
enableEmoji = true
hasCJKLanguage = false

# 分页设置（新版Hugo语法）
[pagination]
  pagerSize = 20

# 输出格式
[outputs]
  home = ["HTML", "RSS", "JSON"]
  page = ["HTML"]
  section = ["HTML", "RSS"]

# 分类系统
[taxonomies]
  author = "authors"
  category = "categories"
  series = "series"
  tag = "tags"

# 网站地图配置
[sitemap]
  changeFreq = "daily"
  filename = "sitemap.xml"
  priority = 0.5

# 相关内容配置
[related]
  threshold = 0
  includeNewer = true
  toLower = false
  [[related.indices]]
    name = "tags"
    weight = 100
  [[related.indices]]
    name = "categories"
    weight = 100
  [[related.indices]]
    name = "series"
    weight = 50
  [[related.indices]]
    name = "authors"
    weight = 20
  [[related.indices]]
    name = "date"
    weight = 10
    pattern = "2006"

# 永久链接格式
[permalinks]
  posts = "/:year/:month/:title/"
  pages = "/:title/"

# 媒体类型
[mediaTypes]
  [mediaTypes."application/manifest+json"]
    suffixes = ["webmanifest"]
  [mediaTypes."text/netlify"]
    delimiter = ""
    suffixes = [""]

# 自定义输出格式
[outputFormats]
  [outputFormats.WebAppManifest]
    mediaType = "application/manifest+json"
    rel = "manifest"

# 缓存配置
[caches]
  [caches.getjson]
    dir = ":cacheDir/:project"
    maxAge = "10m"
  [caches.getcsv]
    dir = ":cacheDir/:project"
    maxAge = "10m"
  [caches.images]
    dir = ":resourceDir/_gen"
    maxAge = "10m"
  [caches.assets]
    dir = ":resourceDir/_gen"
    maxAge = "10m"

# 安全配置
[security]
  enableInlineShortcodes = false
  [security.exec]
    allow = ["^(dart-)?sass(-embedded)?$", "^go$", "^npx$", "^postcss$", "^tailwindcss$"]
    osEnv = ["(?i)^((HTTPS?|NO)_PROXY|PATH(EXT)?|APPDATA|TE?MP|TERM|GO\\w+|(XDG_)?CACHE_HOME|YARN_CACHE_FOLDER)$"]
  [security.funcs]
    getenv = ["^HUGO_", "^CI$"]
  [security.http]
    methods = ["(?i)GET|POST"]
    urls = [".*"]

# 服务器配置（本地开发用）
[server]
  [[server.headers]]
    for = "/**"
    [server.headers.values]
      X-Frame-Options = "DENY"
      X-XSS-Protection = "1; mode=block"
      X-Content-Type-Options = "nosniff"
      Content-Security-Policy = "script-src localhost:1313 'self' 'unsafe-inline' 'unsafe-eval'; object-src 'none'"

# 构建配置
[build]
  writeStats = true
  [[build.cachebusters]]
    source = "assets/.*\\.(js|ts|jsx|tsx)"
    target = "styles\\.css"
  [[build.cachebusters]]
    source = "(postcss|tailwind)\\.config\\.(js|cjs|mjs|ts)"
    target = "css"
  [[build.cachebusters]]
    source = "assets/.*\\.(.*)$"
    target = "$1"

# 部署配置
[deployment]
  [[deployment.targets]]
    name = "production"
    URL = "s3://your-bucket-name?region=us-east-1"
  [[deployment.matchers]]
    pattern = "^.+\\.(html|xml|json)$"
    gzip = true
  [[deployment.matchers]]
    pattern = "^.+\\.(css|js)$"
    gzip = true
    cacheControl = "max-age=31536000, no-transform, public"
  [[deployment.matchers]]
    pattern = "^.+\\.(png|jpg|jpeg|gif|webp|svg)$"
    cacheControl = "max-age=31536000, no-transform, public"

# 语言配置
[languages]
  [languages.en]
    languageName = "English"
    weight = 1
    [languages.en.params]
      displayName = "EN"
      isoCode = "en"
      rtl = false
      dateFormat = "2 January 2006"
      logo = ""
      secondaryLogo = ""
      description = "BOYI WANG - Postdoctoral researcher @ MPI-PKS"
      copyright = "© 2025 BOYI WANG"

# 忽略日志警告
ignoreLogs = [
  'warning-goldmark-raw-html',
  'warning-partial-superfluous-prefix'
]

# 禁用某些页面类型（可选）
# disableKinds = ["taxonomy", "term"]

# 主题参数（基本设置，详细设置在params.toml中）
[params]
  # 基本主题设置
  version = "2.0"
  description = "BOYI WANG - Postdoctoral researcher @ MPI-PKS"
  
  # 颜色主题
  colorScheme = "auto"
  defaultAppearance = "light"
  
  # 主页布局
  [params.homepage]
    layout = "profile"
    
  # 作者信息
  [params.author]
    name = "BOYI WANG"
    image = "avatar.jpg"
    headline = "Postdoctoral researcher @ MPI-PKS"
    bio = "Postdoc @ MPI-PKS"
    links = [
      { google-scholar = "https://scholar.google.com/citations?user=04a2hB8AAAAJ&hl=zh-CN&authuser=1&oi=sra" },
      { ResearchGate = "https://www.researchgate.net/profile/Boyi-Wang-4"},
      { orcid = "https://orcid.org/0000-0003-1107-7591" },
      { email = "mailto:boyiw@pks.mpg.de" },
      { file-pdf = "/CV_WANG.pdf" }
    ]

# 菜单配置
[menu]
  [[menu.main]]
    identifier = "cv"
    name = "CV"
    pageRef = "/cv"
    weight = 10

  [[menu.main]]
    identifier = "publications"
    name = "Publications"
    pageRef = "/publications"
    weight = 30

# Markdown渲染配置
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
    [markup.goldmark.parser]
      attribute = true
      autoHeadingID = true
      autoHeadingIDType = "github"
    [markup.goldmark.extensions]
      definitionList = true
      footnote = true
      linkify = true
      strikethrough = true
      table = true
      taskList = true
      typographer = true
  [markup.highlight]
    lineNos = false
    lineNumbersInTable = false
    noClasses = false
    style = "github"
    tabWidth = 4
  [markup.tableOfContents]
    startLevel = 2
    endLevel = 4
    ordered = false

# 图像处理配置
[imaging]
  resampleFilter = "CatmullRom"
  quality = 75
  anchor = "smart"
  
# 隐私配置
[privacy]
  [privacy.disqus]
    disable = true
  [privacy.googleAnalytics]
    disable = true
  [privacy.instagram]
    disable = true
  [privacy.twitter]
    disable = true
  [privacy.vimeo]
    disable = true
  [privacy.youtube]
    disable = true

# 服务配置
[services]
  [services.googleAnalytics]
    ID = ""
  [services.disqus]
    shortname = ""